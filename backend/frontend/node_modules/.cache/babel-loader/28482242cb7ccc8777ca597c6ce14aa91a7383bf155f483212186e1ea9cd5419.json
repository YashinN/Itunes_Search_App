{"ast":null,"code":"var _jsxFileName = \"/Users/yashin/Documents/GitHub/Codespace/Itunes_Search_App/backend/frontend/src/components/Display.js\";\nimport React from \"react\";\n// Import common function\nimport { replaceImageSize } from \"./ImageStringConvert\";\nimport \"./Display.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Display = props => {\n  // Post request to server to add fav item. Takes fav item as arg.\n  const addFavourite = async item => {\n    // fetch request to server.\n    const response = await fetch(\"itunessearchapp-production.up.railway.app/fav\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(item[0])\n    });\n    // gets list of fav items from server.\n    const data = await response.json();\n    // sets and stores fav items from server.\n    props.setFavItems(data);\n  };\n\n  // checks if fav item already exists by using id.\n  const checkFav = id => {\n    // filters through items and returns items with matching ids.\n    let itemExists = props.favItems.filter(\n    // uses trackId or artist id to check.\n    item => item.trackId === id || item.artistId === id);\n    // returns the length of array.\n    return itemExists.length;\n  };\n\n  // gets fav item by id.\n  const getFav = id => {\n    // filters searched results to get fav item data.\n    let favData = props.results.filter(item => {\n      // if item cant be identified by tack id ,use artist id.\n      if (!item.trackId) {\n        // returns found item.\n        return !item.trackId && item.artistId === id;\n      }\n      // returns item by track id.\n      return item.trackId === id;\n    });\n    // returns found item.\n    return favData;\n  };\n\n  // Runs when selecting favourite button , adds fav item to list.\n  const favHandler = e => {\n    // checks if fav item exists.\n    if (checkFav(Number(e.target.id)) === 0) {\n      // gets fav item\n      let newFav = getFav(Number(e.target.id));\n      // makes request to add fav item to server.\n      addFavourite(newFav);\n      alert(\"Item added to favourites\");\n    } else {\n      alert(\"Item already exists in favourites\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container-fluid my-5\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row gy-4 \",\n      \"datatest-id\": \"displayFav\",\n      children: props.results.map((result, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-12 col-md-6 col-lg-4 col-xl-3 result-wrapper\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"result-container p-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: replaceImageSize(result.artworkUrl100),\n            alt: \"\",\n            className: \"result-img mb-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"description-container mt-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-success mb-0\",\n              children: [\"Title:\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-secondary\",\n                children: !result.trackName ? result.collectionName : result.trackName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-success mb-0\",\n              children: [\"Type:\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-secondary\",\n                children: !result.kind ? result.wrapperType : result.kind\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 92,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"mb-0 text-success\",\n              children: [\"Creator:\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-secondary\",\n                children: result.artistName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 98,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"btn-container\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn btn-outline-info btn-fav\",\n              onClick: favHandler,\n              id: !result.trackId ? result.artistId : result.trackId,\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"btn-label\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"F\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 109,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"A\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 110,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"V\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 111,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"O\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 112,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"U\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 113,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"R\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 114,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"I\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 115,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"T\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 116,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"E\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 117,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 108,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 13\n        }, this)\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 5\n  }, this);\n};\n_c = Display;\nexport default Display;\nvar _c;\n$RefreshReg$(_c, \"Display\");","map":{"version":3,"names":["React","replaceImageSize","jsxDEV","_jsxDEV","Display","props","addFavourite","item","response","fetch","method","headers","body","JSON","stringify","data","json","setFavItems","checkFav","id","itemExists","favItems","filter","trackId","artistId","length","getFav","favData","results","favHandler","e","Number","target","newFav","alert","className","children","map","result","index","src","artworkUrl100","alt","fileName","_jsxFileName","lineNumber","columnNumber","trackName","collectionName","kind","wrapperType","artistName","type","onClick","_c","$RefreshReg$"],"sources":["/Users/yashin/Documents/GitHub/Codespace/Itunes_Search_App/backend/frontend/src/components/Display.js"],"sourcesContent":["import React from \"react\";\n// Import common function\nimport { replaceImageSize } from \"./ImageStringConvert\";\nimport \"./Display.css\";\n\nconst Display = (props) => {\n  // Post request to server to add fav item. Takes fav item as arg.\n  const addFavourite = async (item) => {\n    // fetch request to server.\n    const response = await fetch(\n      \"itunessearchapp-production.up.railway.app/fav\",\n      {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(item[0]),\n      }\n    );\n    // gets list of fav items from server.\n    const data = await response.json();\n    // sets and stores fav items from server.\n    props.setFavItems(data);\n  };\n\n  // checks if fav item already exists by using id.\n  const checkFav = (id) => {\n    // filters through items and returns items with matching ids.\n    let itemExists = props.favItems.filter(\n      // uses trackId or artist id to check.\n      (item) => item.trackId === id || item.artistId === id\n    );\n    // returns the length of array.\n    return itemExists.length;\n  };\n\n  // gets fav item by id.\n  const getFav = (id) => {\n    // filters searched results to get fav item data.\n    let favData = props.results.filter((item) => {\n      // if item cant be identified by tack id ,use artist id.\n      if (!item.trackId) {\n        // returns found item.\n        return !item.trackId && item.artistId === id;\n      }\n      // returns item by track id.\n      return item.trackId === id;\n    });\n    // returns found item.\n    return favData;\n  };\n\n  // Runs when selecting favourite button , adds fav item to list.\n  const favHandler = (e) => {\n    // checks if fav item exists.\n    if (checkFav(Number(e.target.id)) === 0) {\n      // gets fav item\n      let newFav = getFav(Number(e.target.id));\n      // makes request to add fav item to server.\n      addFavourite(newFav);\n      alert(\"Item added to favourites\");\n    } else {\n      alert(\"Item already exists in favourites\");\n    }\n  };\n\n  return (\n    <div className=\"container-fluid my-5\">\n      <div className=\"row gy-4 \" datatest-id=\"displayFav\">\n        {props.results.map((result, index) => (\n          <div\n            key={index}\n            className=\"col-12 col-md-6 col-lg-4 col-xl-3 result-wrapper\"\n          >\n            <div className=\"result-container p-3\">\n              <img\n                src={replaceImageSize(result.artworkUrl100)}\n                alt=\"\"\n                className=\"result-img mb-1\"\n              />\n              <div className=\"description-container mt-1\">\n                <p className=\"text-success mb-0\">\n                  Title:{\" \"}\n                  <span className=\"text-secondary\">\n                    {!result.trackName\n                      ? result.collectionName\n                      : result.trackName}\n                  </span>\n                </p>\n                <p className=\"text-success mb-0\">\n                  Type:{\" \"}\n                  <span className=\"text-secondary\">\n                    {!result.kind ? result.wrapperType : result.kind}\n                  </span>\n                </p>\n                <p className=\"mb-0 text-success\">\n                  Creator:{\" \"}\n                  <span className=\"text-secondary\">{result.artistName}</span>\n                </p>\n              </div>\n              <div className=\"btn-container\">\n                <button\n                  type=\"button\"\n                  className=\"btn btn-outline-info btn-fav\"\n                  onClick={favHandler}\n                  id={!result.trackId ? result.artistId : result.trackId}\n                >\n                  <div className=\"btn-label\">\n                    <span>F</span>\n                    <span>A</span>\n                    <span>V</span>\n                    <span>O</span>\n                    <span>U</span>\n                    <span>R</span>\n                    <span>I</span>\n                    <span>T</span>\n                    <span>E</span>\n                  </div>\n                </button>\n              </div>\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default Display;\n"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB;AACA,SAASC,gBAAgB,QAAQ,sBAAsB;AACvD,OAAO,eAAe;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEvB,MAAMC,OAAO,GAAIC,KAAK,IAAK;EACzB;EACA,MAAMC,YAAY,GAAG,MAAOC,IAAI,IAAK;IACnC;IACA,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAC1B,+CAA+C,EAC/C;MACEC,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QACP,cAAc,EAAE;MAClB,CAAC;MACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACP,IAAI,CAAC,CAAC,CAAC;IAC9B,CACF,CAAC;IACD;IACA,MAAMQ,IAAI,GAAG,MAAMP,QAAQ,CAACQ,IAAI,CAAC,CAAC;IAClC;IACAX,KAAK,CAACY,WAAW,CAACF,IAAI,CAAC;EACzB,CAAC;;EAED;EACA,MAAMG,QAAQ,GAAIC,EAAE,IAAK;IACvB;IACA,IAAIC,UAAU,GAAGf,KAAK,CAACgB,QAAQ,CAACC,MAAM;IACpC;IACCf,IAAI,IAAKA,IAAI,CAACgB,OAAO,KAAKJ,EAAE,IAAIZ,IAAI,CAACiB,QAAQ,KAAKL,EACrD,CAAC;IACD;IACA,OAAOC,UAAU,CAACK,MAAM;EAC1B,CAAC;;EAED;EACA,MAAMC,MAAM,GAAIP,EAAE,IAAK;IACrB;IACA,IAAIQ,OAAO,GAAGtB,KAAK,CAACuB,OAAO,CAACN,MAAM,CAAEf,IAAI,IAAK;MAC3C;MACA,IAAI,CAACA,IAAI,CAACgB,OAAO,EAAE;QACjB;QACA,OAAO,CAAChB,IAAI,CAACgB,OAAO,IAAIhB,IAAI,CAACiB,QAAQ,KAAKL,EAAE;MAC9C;MACA;MACA,OAAOZ,IAAI,CAACgB,OAAO,KAAKJ,EAAE;IAC5B,CAAC,CAAC;IACF;IACA,OAAOQ,OAAO;EAChB,CAAC;;EAED;EACA,MAAME,UAAU,GAAIC,CAAC,IAAK;IACxB;IACA,IAAIZ,QAAQ,CAACa,MAAM,CAACD,CAAC,CAACE,MAAM,CAACb,EAAE,CAAC,CAAC,KAAK,CAAC,EAAE;MACvC;MACA,IAAIc,MAAM,GAAGP,MAAM,CAACK,MAAM,CAACD,CAAC,CAACE,MAAM,CAACb,EAAE,CAAC,CAAC;MACxC;MACAb,YAAY,CAAC2B,MAAM,CAAC;MACpBC,KAAK,CAAC,0BAA0B,CAAC;IACnC,CAAC,MAAM;MACLA,KAAK,CAAC,mCAAmC,CAAC;IAC5C;EACF,CAAC;EAED,oBACE/B,OAAA;IAAKgC,SAAS,EAAC,sBAAsB;IAAAC,QAAA,eACnCjC,OAAA;MAAKgC,SAAS,EAAC,WAAW;MAAC,eAAY,YAAY;MAAAC,QAAA,EAChD/B,KAAK,CAACuB,OAAO,CAACS,GAAG,CAAC,CAACC,MAAM,EAAEC,KAAK,kBAC/BpC,OAAA;QAEEgC,SAAS,EAAC,kDAAkD;QAAAC,QAAA,eAE5DjC,OAAA;UAAKgC,SAAS,EAAC,sBAAsB;UAAAC,QAAA,gBACnCjC,OAAA;YACEqC,GAAG,EAAEvC,gBAAgB,CAACqC,MAAM,CAACG,aAAa,CAAE;YAC5CC,GAAG,EAAC,EAAE;YACNP,SAAS,EAAC;UAAiB;YAAAQ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC5B,CAAC,eACF3C,OAAA;YAAKgC,SAAS,EAAC,4BAA4B;YAAAC,QAAA,gBACzCjC,OAAA;cAAGgC,SAAS,EAAC,mBAAmB;cAAAC,QAAA,GAAC,QACzB,EAAC,GAAG,eACVjC,OAAA;gBAAMgC,SAAS,EAAC,gBAAgB;gBAAAC,QAAA,EAC7B,CAACE,MAAM,CAACS,SAAS,GACdT,MAAM,CAACU,cAAc,GACrBV,MAAM,CAACS;cAAS;gBAAAJ,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAChB,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACN,CAAC,eACJ3C,OAAA;cAAGgC,SAAS,EAAC,mBAAmB;cAAAC,QAAA,GAAC,OAC1B,EAAC,GAAG,eACTjC,OAAA;gBAAMgC,SAAS,EAAC,gBAAgB;gBAAAC,QAAA,EAC7B,CAACE,MAAM,CAACW,IAAI,GAAGX,MAAM,CAACY,WAAW,GAAGZ,MAAM,CAACW;cAAI;gBAAAN,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC5C,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACN,CAAC,eACJ3C,OAAA;cAAGgC,SAAS,EAAC,mBAAmB;cAAAC,QAAA,GAAC,UACvB,EAAC,GAAG,eACZjC,OAAA;gBAAMgC,SAAS,EAAC,gBAAgB;gBAAAC,QAAA,EAAEE,MAAM,CAACa;cAAU;gBAAAR,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC1D,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACD,CAAC,eACN3C,OAAA;YAAKgC,SAAS,EAAC,eAAe;YAAAC,QAAA,eAC5BjC,OAAA;cACEiD,IAAI,EAAC,QAAQ;cACbjB,SAAS,EAAC,8BAA8B;cACxCkB,OAAO,EAAExB,UAAW;cACpBV,EAAE,EAAE,CAACmB,MAAM,CAACf,OAAO,GAAGe,MAAM,CAACd,QAAQ,GAAGc,MAAM,CAACf,OAAQ;cAAAa,QAAA,eAEvDjC,OAAA;gBAAKgC,SAAS,EAAC,WAAW;gBAAAC,QAAA,gBACxBjC,OAAA;kBAAAiC,QAAA,EAAM;gBAAC;kBAAAO,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC,eACd3C,OAAA;kBAAAiC,QAAA,EAAM;gBAAC;kBAAAO,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC,eACd3C,OAAA;kBAAAiC,QAAA,EAAM;gBAAC;kBAAAO,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC,eACd3C,OAAA;kBAAAiC,QAAA,EAAM;gBAAC;kBAAAO,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC,eACd3C,OAAA;kBAAAiC,QAAA,EAAM;gBAAC;kBAAAO,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC,eACd3C,OAAA;kBAAAiC,QAAA,EAAM;gBAAC;kBAAAO,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC,eACd3C,OAAA;kBAAAiC,QAAA,EAAM;gBAAC;kBAAAO,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC,eACd3C,OAAA;kBAAAiC,QAAA,EAAM;gBAAC;kBAAAO,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC,eACd3C,OAAA;kBAAAiC,QAAA,EAAM;gBAAC;kBAAAO,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACX;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACA;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH;MAAC,GAjDDP,KAAK;QAAAI,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAkDP,CACN;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;AAACQ,EAAA,GAzHIlD,OAAO;AA2Hb,eAAeA,OAAO;AAAC,IAAAkD,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}