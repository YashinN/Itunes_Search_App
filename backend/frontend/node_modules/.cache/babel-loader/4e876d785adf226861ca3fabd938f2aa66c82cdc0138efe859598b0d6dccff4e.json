{"ast":null,"code":"import _regeneratorRuntime from\"/Users/yashin/Documents/GitHub/Codespace/Itunes_Search_App/backend/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/yashin/Documents/GitHub/Codespace/Itunes_Search_App/backend/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React from\"react\";// Import common function\nimport{replaceImageSize}from\"./ImageStringConvert\";import\"./Display.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Display=function Display(props){// Post request to server to add fav item. Takes fav item as arg.\nvar addFavourite=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(item){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"https://itunessearchapp-production.up.railway.app/fav\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(item[0])});case 2:response=_context.sent;_context.next=5;return response.json();case 5:data=_context.sent;// sets and stores fav items from server.\nprops.setFavItems(data);case 7:case\"end\":return _context.stop();}},_callee);}));return function addFavourite(_x){return _ref.apply(this,arguments);};}();// checks if fav item already exists by using id.\nvar checkFav=function checkFav(id){// filters through items and returns items with matching ids.\nvar itemExists=props.favItems.filter(// uses trackId or artist id to check.\nfunction(item){return item.trackId===id||item.artistId===id;});// returns the length of array.\nreturn itemExists.length;};// gets fav item by id.\nvar getFav=function getFav(id){// filters searched results to get fav item data.\nvar favData=props.results.filter(function(item){// if item cant be identified by tack id ,use artist id.\nif(!item.trackId){// returns found item.\nreturn!item.trackId&&item.artistId===id;}// returns item by track id.\nreturn item.trackId===id;});// returns found item.\nreturn favData;};// Runs when selecting favourite button , adds fav item to list.\nvar favHandler=function favHandler(e){// checks if fav item exists.\nif(checkFav(Number(e.target.id))===0){// gets fav item\nvar newFav=getFav(Number(e.target.id));// makes request to add fav item to server.\naddFavourite(newFav);alert(\"Item added to favourites\");}else{alert(\"Item already exists in favourites\");}};return/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid my-5\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row gy-4 \",\"datatest-id\":\"displayFav\",children:props.results.map(function(result,index){return/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-md-6 col-lg-4 col-xl-3 result-wrapper\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"result-container p-3\",children:[/*#__PURE__*/_jsx(\"img\",{src:replaceImageSize(result.artworkUrl100),alt:\"\",className:\"result-img mb-1\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"description-container mt-1\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-success mb-0\",children:[\"Title:\",\" \",/*#__PURE__*/_jsx(\"span\",{className:\"text-secondary\",children:!result.trackName?result.collectionName:result.trackName})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-success mb-0\",children:[\"Type:\",\" \",/*#__PURE__*/_jsx(\"span\",{className:\"text-secondary\",children:!result.kind?result.wrapperType:result.kind})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"mb-0 text-success\",children:[\"Creator:\",\" \",/*#__PURE__*/_jsx(\"span\",{className:\"text-secondary\",children:result.artistName})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"btn-container\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-outline-info btn-fav\",onClick:favHandler,id:!result.trackId?result.artistId:result.trackId,children:/*#__PURE__*/_jsxs(\"div\",{className:\"btn-label\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"F\"}),/*#__PURE__*/_jsx(\"span\",{children:\"A\"}),/*#__PURE__*/_jsx(\"span\",{children:\"V\"}),/*#__PURE__*/_jsx(\"span\",{children:\"O\"}),/*#__PURE__*/_jsx(\"span\",{children:\"U\"}),/*#__PURE__*/_jsx(\"span\",{children:\"R\"}),/*#__PURE__*/_jsx(\"span\",{children:\"I\"}),/*#__PURE__*/_jsx(\"span\",{children:\"T\"}),/*#__PURE__*/_jsx(\"span\",{children:\"E\"})]})})})]})},index);})})});};export default Display;","map":{"version":3,"names":["React","replaceImageSize","jsx","_jsx","jsxs","_jsxs","Display","props","addFavourite","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","item","response","data","wrap","_callee$","_context","prev","next","fetch","method","headers","body","JSON","stringify","sent","json","setFavItems","stop","_x","apply","arguments","checkFav","id","itemExists","favItems","filter","trackId","artistId","length","getFav","favData","results","favHandler","e","Number","target","newFav","alert","className","children","map","result","index","src","artworkUrl100","alt","trackName","collectionName","kind","wrapperType","artistName","type","onClick"],"sources":["/Users/yashin/Documents/GitHub/Codespace/Itunes_Search_App/backend/frontend/src/components/Display.js"],"sourcesContent":["import React from \"react\";\n// Import common function\nimport { replaceImageSize } from \"./ImageStringConvert\";\nimport \"./Display.css\";\n\nconst Display = (props) => {\n  // Post request to server to add fav item. Takes fav item as arg.\n  const addFavourite = async (item) => {\n    // fetch request to server.\n    const response = await fetch(\n      \"https://itunessearchapp-production.up.railway.app/fav\",\n      {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(item[0]),\n      }\n    );\n    // gets list of fav items from server.\n    const data = await response.json();\n    // sets and stores fav items from server.\n    props.setFavItems(data);\n  };\n\n  // checks if fav item already exists by using id.\n  const checkFav = (id) => {\n    // filters through items and returns items with matching ids.\n    let itemExists = props.favItems.filter(\n      // uses trackId or artist id to check.\n      (item) => item.trackId === id || item.artistId === id\n    );\n    // returns the length of array.\n    return itemExists.length;\n  };\n\n  // gets fav item by id.\n  const getFav = (id) => {\n    // filters searched results to get fav item data.\n    let favData = props.results.filter((item) => {\n      // if item cant be identified by tack id ,use artist id.\n      if (!item.trackId) {\n        // returns found item.\n        return !item.trackId && item.artistId === id;\n      }\n      // returns item by track id.\n      return item.trackId === id;\n    });\n    // returns found item.\n    return favData;\n  };\n\n  // Runs when selecting favourite button , adds fav item to list.\n  const favHandler = (e) => {\n    // checks if fav item exists.\n    if (checkFav(Number(e.target.id)) === 0) {\n      // gets fav item\n      let newFav = getFav(Number(e.target.id));\n      // makes request to add fav item to server.\n      addFavourite(newFav);\n      alert(\"Item added to favourites\");\n    } else {\n      alert(\"Item already exists in favourites\");\n    }\n  };\n\n  return (\n    <div className=\"container-fluid my-5\">\n      <div className=\"row gy-4 \" datatest-id=\"displayFav\">\n        {props.results.map((result, index) => (\n          <div\n            key={index}\n            className=\"col-12 col-md-6 col-lg-4 col-xl-3 result-wrapper\"\n          >\n            <div className=\"result-container p-3\">\n              <img\n                src={replaceImageSize(result.artworkUrl100)}\n                alt=\"\"\n                className=\"result-img mb-1\"\n              />\n              <div className=\"description-container mt-1\">\n                <p className=\"text-success mb-0\">\n                  Title:{\" \"}\n                  <span className=\"text-secondary\">\n                    {!result.trackName\n                      ? result.collectionName\n                      : result.trackName}\n                  </span>\n                </p>\n                <p className=\"text-success mb-0\">\n                  Type:{\" \"}\n                  <span className=\"text-secondary\">\n                    {!result.kind ? result.wrapperType : result.kind}\n                  </span>\n                </p>\n                <p className=\"mb-0 text-success\">\n                  Creator:{\" \"}\n                  <span className=\"text-secondary\">{result.artistName}</span>\n                </p>\n              </div>\n              <div className=\"btn-container\">\n                <button\n                  type=\"button\"\n                  className=\"btn btn-outline-info btn-fav\"\n                  onClick={favHandler}\n                  id={!result.trackId ? result.artistId : result.trackId}\n                >\n                  <div className=\"btn-label\">\n                    <span>F</span>\n                    <span>A</span>\n                    <span>V</span>\n                    <span>O</span>\n                    <span>U</span>\n                    <span>R</span>\n                    <span>I</span>\n                    <span>T</span>\n                    <span>E</span>\n                  </div>\n                </button>\n              </div>\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default Display;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}