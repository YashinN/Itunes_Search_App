{"ast":null,"code":"import _regeneratorRuntime from\"/Users/yashin/Documents/GitHub/Codespace/Itunes_Search_App/backend/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/yashin/Documents/GitHub/Codespace/Itunes_Search_App/backend/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React from\"react\";// imports common function.\nimport{replaceImageSize}from\"./ImageStringConvert\";import\"./Favourites.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Favourites=function Favourites(props){// checks the type of fav items.\nvar checkType=function checkType(item){if(item.kind===\"podcast\"||item.kind===\"song\"||item.kind===\"tv-episode\"||item.wrapperType===\"audiobook\"){return true;}return false;};// removes fav item from list makes delete req to server.\nvar deleteFav=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(id){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"https://itunessearchapp-production.up.railway.app/fav\",{method:\"DELETE\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({id:id})});case 2:response=_context.sent;_context.next=5;return response.json();case 5:data=_context.sent;// sets and stores new data received\nprops.setFavItems(data);case 7:case\"end\":return _context.stop();}},_callee);}));return function deleteFav(_x){return _ref.apply(this,arguments);};}();// removes fav item from list , delete button clicked.\nvar deleteHandler=function deleteHandler(e){// calls to make request and delete item, using id.\ndeleteFav(Number(e.target.id));};return/*#__PURE__*/_jsxs(\"div\",{className:\"view-fav\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"btn btn-danger view-fav-btn\",type:\"button\",\"data-bs-toggle\":\"offcanvas\",\"data-bs-target\":\"#offcanvasTop\",\"aria-controls\":\"offcanvasTop\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-light\",children:\"View Favourites\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"offcanvas offcanvas-top\",tabIndex:\"-1\",id:\"offcanvasTop\",\"aria-labelledby\":\"offcanvasTopLabel\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"offcanvas-header\",children:[/*#__PURE__*/_jsx(\"h1\",{id:\"offcanvasTopLabel\",className:\"text-light\",children:\"FAVOURTIES\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-close text-reset\",\"data-bs-dismiss\":\"offcanvas\",\"aria-label\":\"Close\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"offcanvas-body\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row gy-5\",children:[props.favItems.length===0&&/*#__PURE__*/_jsx(\"h1\",{className:\"px-0\",children:\"Your List is Empty...\"}),props.favItems.map(function(item,index){return/*#__PURE__*/_jsxs(\"div\",{className:\"col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"favImg-container\",children:[/*#__PURE__*/_jsx(\"img\",{className:checkType(item)?\"fav-img-short\":\"fav-img\",src:replaceImageSize(item.artworkUrl100),alt:\"\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-danger delete-btn \",id:!item.trackId?item.artistId:item.trackId,onClick:deleteHandler,children:\"Remove\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\" fav-desc-container mt-1\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-light mb-0\",children:[\"Title:\",\" \",/*#__PURE__*/_jsx(\"span\",{className:\"text-secondary\",children:!item.trackName?item.collectionName:item.trackName})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-light mb-0\",children:[\"Type:\",\" \",/*#__PURE__*/_jsx(\"span\",{className:\"text-secondary\",children:!item.kind?item.wrapperType:item.kind})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"mb-0 text-light\",children:[\"Creator:\",\" \",/*#__PURE__*/_jsx(\"span\",{className:\"text-secondary\",children:item.artistName})]})]})]},index);})]})})})]})]});};export default Favourites;","map":{"version":3,"names":["React","replaceImageSize","jsx","_jsx","jsxs","_jsxs","Favourites","props","checkType","item","kind","wrapperType","deleteFav","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","id","response","data","wrap","_callee$","_context","prev","next","fetch","method","headers","body","JSON","stringify","sent","json","setFavItems","stop","_x","apply","arguments","deleteHandler","e","Number","target","className","children","type","tabIndex","favItems","length","map","index","src","artworkUrl100","alt","trackId","artistId","onClick","trackName","collectionName","artistName"],"sources":["/Users/yashin/Documents/GitHub/Codespace/Itunes_Search_App/backend/frontend/src/components/Favourites.js"],"sourcesContent":["import React from \"react\";\n// imports common function.\nimport { replaceImageSize } from \"./ImageStringConvert\";\nimport \"./Favourites.css\";\n\nconst Favourites = (props) => {\n  // checks the type of fav items.\n  const checkType = (item) => {\n    if (\n      item.kind === \"podcast\" ||\n      item.kind === \"song\" ||\n      item.kind === \"tv-episode\" ||\n      item.wrapperType === \"audiobook\"\n    ) {\n      return true;\n    }\n    return false;\n  };\n\n  // removes fav item from list makes delete req to server.\n  const deleteFav = async (id) => {\n    // delete req using id arg.\n    const response = await fetch(\n      \"https://itunessearchapp-production.up.railway.app/fav\",\n      {\n        method: \"DELETE\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({ id: id }),\n      }\n    );\n    // recevies new fav items from server after delete.\n    const data = await response.json();\n    // sets and stores new data received\n    props.setFavItems(data);\n  };\n\n  // removes fav item from list , delete button clicked.\n  const deleteHandler = (e) => {\n    // calls to make request and delete item, using id.\n    deleteFav(Number(e.target.id));\n  };\n\n  return (\n    <div className=\"view-fav\">\n      <div\n        className=\"btn btn-danger view-fav-btn\"\n        type=\"button\"\n        data-bs-toggle=\"offcanvas\"\n        data-bs-target=\"#offcanvasTop\"\n        aria-controls=\"offcanvasTop\"\n      >\n        <button className=\"btn btn-outline-light\">View Favourites</button>\n      </div>\n\n      <div\n        className=\"offcanvas offcanvas-top\"\n        tabIndex=\"-1\"\n        id=\"offcanvasTop\"\n        aria-labelledby=\"offcanvasTopLabel\"\n      >\n        <div className=\"offcanvas-header\">\n          <h1 id=\"offcanvasTopLabel\" className=\"text-light\">\n            FAVOURTIES\n          </h1>\n          <button\n            type=\"button\"\n            className=\"btn-close text-reset\"\n            data-bs-dismiss=\"offcanvas\"\n            aria-label=\"Close\"\n          ></button>\n        </div>\n        <div className=\"offcanvas-body\">\n          <div className=\"container-fluid\">\n            <div className=\"row gy-5\">\n              {props.favItems.length === 0 && (\n                <h1 className=\"px-0\">Your List is Empty...</h1>\n              )}\n              {props.favItems.map((item, index) => (\n                <div\n                  key={index}\n                  className=\"col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2\"\n                >\n                  <div>\n                    <div className=\"favImg-container\">\n                      <img\n                        className={\n                          checkType(item) ? \"fav-img-short\" : \"fav-img\"\n                        }\n                        src={replaceImageSize(item.artworkUrl100)}\n                        alt=\"\"\n                      />\n                      <button\n                        type=\"button\"\n                        className=\"btn btn-danger delete-btn \"\n                        id={!item.trackId ? item.artistId : item.trackId}\n                        onClick={deleteHandler}\n                      >\n                        Remove\n                      </button>\n                    </div>\n                  </div>\n\n                  <div className=\" fav-desc-container mt-1\">\n                    <p className=\"text-light mb-0\">\n                      Title:{\" \"}\n                      <span className=\"text-secondary\">\n                        {!item.trackName ? item.collectionName : item.trackName}\n                      </span>\n                    </p>\n                    <p className=\"text-light mb-0\">\n                      Type:{\" \"}\n                      <span className=\"text-secondary\">\n                        {!item.kind ? item.wrapperType : item.kind}\n                      </span>\n                    </p>\n                    <p className=\"mb-0 text-light\">\n                      Creator:{\" \"}\n                      <span className=\"text-secondary\">{item.artistName}</span>\n                    </p>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Favourites;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}